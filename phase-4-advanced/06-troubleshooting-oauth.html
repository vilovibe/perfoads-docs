<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Troubleshooting OAuth - PerfoAds Documentation</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Geist:wght@400;500;600;700;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --footer-bg: #FFFFFF;
            --primary-blue: #126DFB;
            --dark-text: #000000;
            --light-gray: #6B7280;
            --border-gray: #E5E7EB;
            --bg-white: #FFFFFF;
            --bg-gray: #F9FAFB;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--dark-text);
            background: var(--bg-white);
            padding-top: 80px;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Geist', sans-serif;
            font-weight: 700;
            letter-spacing: -0.03em;
        }


        /* Top Header - Landing Page Style */
        .top-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 80px;
            background: var(--bg-white);
            border-bottom: 1px solid var(--border-gray);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 270px;
            padding: 0 96px;
            z-index: 1000;
        }

        .header-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: var(--dark-text);
        }

        .header-logo img {
            width: 40px;
            height: 40px;
        }

        .header-logo span {
            font-family: 'Geist', 'Geist Placeholder', sans-serif;
            font-weight: 600;
            font-size: 24px;
            letter-spacing: -0.02em;
        }

        .header-nav {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .header-nav a {
            font-family: 'Geist', 'Geist Placeholder', sans-serif;
            color: #575757;
            text-decoration: none;
            font-size: 15px;
            font-weight: 400;
            letter-spacing: -0.03em;
            transition: color 0.2s;
        }

        .header-nav a:hover {
            color: var(--dark-text);
        }

        .header-cta {
            padding: 10px 20px;
            background: var(--primary-blue);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-family: 'Geist', 'Geist Placeholder', sans-serif;
            font-size: 15px;
            font-weight: 500;
            letter-spacing: -0.03em;
            transition: all 0.2s;
        }

        .header-cta:hover {
            background: #0E5DD6;
            transform: translateY(-1px);
        }

        /* Sidebar Navigation */
        .sidebar {
            position: fixed;
            left: 0;
            top: 80px;
            width: 280px;
            height: calc(100vh - 80px);
            background: var(--bg-white);
            border-right: 1px solid var(--border-gray);
            overflow-y: auto;
            padding: 32px 24px;
        }

        .nav-section {
            margin-bottom: 32px;
        }

        .nav-section h3 {
            font-family: 'Geist', sans-serif;
            font-size: 14px;
            font-weight: 600;
            color: var(--dark-text);
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .nav-links {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .nav-link {
            font-family: 'Inter', sans-serif;
            color: var(--light-gray);
            text-decoration: none;
            font-size: 14px;
            padding: 8px 12px;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .nav-link:hover {
            background: var(--bg-gray);
            color: var(--dark-text);
        }

        .nav-link.active {
            background: var(--bg-gray);
            color: var(--primary-blue);
            font-weight: 500;
        }

        /* Main Content */
        main {
            margin-left: 280px;
            padding: 48px 96px 96px 96px;
            max-width: 1400px;
        }

        .content {
            max-width: 900px;
        }

        .content h1 {
            font-size: 42px;
            margin-bottom: 24px;
            color: var(--dark-text);
        }

        .content h2 {
            font-size: 32px;
            margin-top: 48px;
            margin-bottom: 16px;
            color: var(--dark-text);
        }

        .content h3 {
            font-size: 24px;
            margin-top: 32px;
            margin-bottom: 12px;
            color: var(--dark-text);
        }

        .content p {
            margin-bottom: 16px;
            color: var(--dark-text);
        }

        .content ul, .content ol {
            margin-bottom: 16px;
            padding-left: 24px;
        }

        .content li {
            margin-bottom: 8px;
            color: var(--dark-text);
        }

        .content a {
            color: var(--primary-blue);
            text-decoration: none;
        }

        .content a:hover {
            text-decoration: underline;
        }

        .content code {
            background: var(--bg-gray);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 14px;
        }

        .content pre {
            background: var(--bg-gray);
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
            margin-bottom: 16px;
        }

        .content pre code {
            background: none;
            padding: 0;
        }

        .content blockquote {
            border-left: 4px solid var(--primary-blue);
            padding-left: 16px;
            margin: 16px 0;
            color: var(--light-gray);
        }

        .content hr {
            border: none;
            border-top: 1px solid var(--border-gray);
            margin: 32px 0;
        }

        .content strong {
            font-weight: 600;
            color: var(--dark-text);
        }

        /* Footer - Landing Page Style */
        .footer {
            background: var(--footer-bg);
            border-top: 1px solid var(--border-gray);
            padding: 64px 96px;
            margin-left: 280px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 64px;
            max-width: 1400px;
        }

        .footer-brand {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .footer-logo {
            display: flex;
            align-items: center;
        }

        .footer-logo h4 {
            font-family: 'Geist', 'Geist Placeholder', sans-serif;
            font-weight: 600;
            font-size: 20px;
            letter-spacing: -0.02em;
        }

        .footer-brand p {
            font-size: 14px;
            color: var(--light-gray);
            line-height: 1.6;
            max-width: 400px;
        }

        .footer-cta {
            align-self: flex-start;
            padding: 12px 24px;
            background: var(--primary-blue);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .footer-cta:hover {
            background: #0E5DD6;
            transform: translateY(-1px);
        }

        .footer-social a {
            color: var(--light-gray);
            text-decoration: none;
            font-size: 14px;
        }

        .footer-social a:hover {
            color: var(--dark-text);
        }

        .footer-section h5 {
            font-family: 'Geist', sans-serif;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--dark-text);
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .footer-links a {
            color: var(--light-gray);
            text-decoration: none;
            font-size: 14px;
            transition: color 0.2s;
        }

        .footer-links a:hover {
            color: var(--dark-text);
        }

        .footer-bottom {
            background: var(--footer-bg);
            text-align: center;
            padding: 24px;
            color: var(--light-gray);
            font-size: 14px;
            border-top: 1px solid var(--border-gray);
            margin-left: 280px;
        }
    </style>
</head>
<body>
    <!-- Top Header -->
    <header class="top-header">
        <a href="/" class="header-logo">
            <img src="/logo.png" alt="PerfoAds">
            <span>PerfoAds</span>
        </a>
        <nav class="header-nav">
            <a href="https://www.perfoads.com/#features">Features</a>
            <a href="https://www.perfoads.com/#benefits">Benefits</a>
            <a href="/">Documentation</a>
            <a href="https://www.perfoads.com/#pricing">Pricing</a>
            <a href="https://www.perfoads.com/#faq">FAQ</a>
            <a href="https://app.perfoads.com" class="header-cta">Start Free Trial</a>
        </nav>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <nav>
            <div class="nav-section">
                <h3>Getting Started</h3>
                <div class="nav-links">
                    <a href="/phase-1-essential/01-what-is-perfoads.html" class="nav-link">What is PerfoAds?</a>
                    <a href="/phase-1-essential/02-quick-start-guide.html" class="nav-link">Quick Start Guide</a>
                    <a href="/phase-1-essential/03-adding-first-client.html" class="nav-link">Adding Your First Client</a>
                    <a href="/phase-1-essential/04-understanding-dashboard.html" class="nav-link">Understanding the Dashboard</a>
                    <a href="/phase-1-essential/05-smart-sync-explained.html" class="nav-link">Smart Sync Explained</a>
                </div>
            </div>

            <div class="nav-section">
                <h3>Core Features</h3>
                <div class="nav-links">
                    <a href="/phase-2-core-features/01-client-list-overview.html" class="nav-link">Client List Overview</a>
                    <a href="/phase-2-core-features/02-client-details-page.html" class="nav-link">Client Details Page</a>
                    <a href="/phase-2-core-features/03-bulk-operations.html" class="nav-link">Bulk Operations</a>
                    <a href="/phase-2-core-features/04-sync-system-guide.html" class="nav-link">Sync System Guide</a>
                    <a href="/phase-2-core-features/05-auto-sync-setup.html" class="nav-link">Auto-Sync Setup</a>
                    <a href="/phase-2-core-features/06-sync-logs.html" class="nav-link">Sync Logs</a>
                    <a href="/phase-2-core-features/07-metrics-glossary.html" class="nav-link">Metrics Glossary</a>
                    <a href="/phase-2-core-features/08-performance-charts.html" class="nav-link">Performance Charts</a>
                </div>
            </div>

            <div class="nav-section">
                <h3>AI Features</h3>
                <div class="nav-links">
                    <a href="/phase-3-ai-features/01-smart-alerts-intro.html" class="nav-link">Smart Alerts Introduction</a>
                    <a href="/phase-3-ai-features/02-alert-severity-guide.html" class="nav-link">Alert Severity Guide</a>
                    <a href="/phase-3-ai-features/03-alert-categories.html" class="nav-link">Alert Categories</a>
                    <a href="/phase-3-ai-features/04-accept-decline-workflow.html" class="nav-link">Accept/Decline Workflow</a>
                    <a href="/phase-3-ai-features/05-ai-chat-getting-started.html" class="nav-link">AI Chat - Getting Started</a>
                    <a href="/phase-3-ai-features/06-ai-chat-templates.html" class="nav-link">AI Chat Templates</a>
                    <a href="/phase-3-ai-features/07-ai-context-explained.html" class="nav-link">AI Context Explained</a>
                    <a href="/phase-3-ai-features/08-business-profile-setup.html" class="nav-link">Business Profile Setup</a>
                    <a href="/phase-3-ai-features/09-custom-context-entries.html" class="nav-link">Custom Context Entries</a>
                </div>
            </div>

            <div class="nav-section">
                <h3>Advanced</h3>
                <div class="nav-links">
                    <a href="/phase-4-advanced/01-global-settings.html" class="nav-link">Global Settings</a>
                    <a href="/phase-4-advanced/08-email-alerts-setup.html" class="nav-link">Email Alerts Setup</a>
                    <a href="/phase-4-advanced/05-troubleshooting-sync.html" class="nav-link">Troubleshooting: Sync Issues</a>
                    <a href="/phase-4-advanced/06-troubleshooting-oauth.html" class="nav-link">Troubleshooting: OAuth Issues</a>
                    <a href="/phase-4-advanced/07-troubleshooting-general.html" class="nav-link">Troubleshooting: General</a>
                </div>
            </div>
        </nav>
    </aside>

    <!-- Main Content -->
    <main>
        <div class="content"><h1>Troubleshooting OAuth</h1>
<p>OAuth connects PerfoAds to your Google Ads accounts securely. When OAuth breaks, syncs fail and data stops updating. This guide helps you diagnose and fix OAuth issues including expired tokens, permission errors, missing accounts, and connection failures. Follow step-by-step solutions to restore Google Ads access.</p>
<hr>
<h2>What You&#39;ll Learn</h2>
<ul>
<li>Understanding OAuth status indicators</li>
<li>Diagnosing OAuth problems quickly</li>
<li>Fixing expired or invalid tokens</li>
<li>Resolving permission errors</li>
<li>Troubleshooting missing accounts</li>
<li>Reconnecting OAuth correctly</li>
<li>Preventing future OAuth issues</li>
<li>When OAuth auto-heals vs requires intervention</li>
</ul>
<p><strong>Time needed</strong>: 10 minutes to read</p>
<hr>
<h2>OAuth Quick Health Check</h2>
<p><strong>Check OAuth Status First</strong>:</p>
<ol>
<li>Go to Settings → Google Ads Connections</li>
<li>Look for status indicator:</li>
</ol>
<p><strong>✅ Healthy</strong>:</p>
<pre><code>Status: Connected
Token Valid: 45 days remaining
Last Refresh: 2 hours ago
</code></pre>
<p><strong>⚠️ Warning</strong>:</p>
<pre><code>Status: Connected
Token Valid: 3 days remaining (expiring soon)
Last Refresh: 15 days ago
</code></pre>
<p><strong>❌ Critical</strong>:</p>
<pre><code>Status: Disconnected
Token Valid: Expired
Last Refresh: Failed
</code></pre>
<p>[Screenshot: OAuth status showing healthy, warning, and critical states]
<em>Green = healthy, Yellow = needs attention soon, Red = broken now</em></p>
<hr>
<h2>What Is OAuth?</h2>
<p><strong>Simple Explanation</strong>: OAuth is how PerfoAds gets permission to read your Google Ads data without needing your password.</p>
<p><strong>How It Works</strong>:</p>
<ol>
<li>You click &quot;Connect Google Ads&quot;</li>
<li>Google asks: &quot;Allow PerfoAds to access your Google Ads accounts?&quot;</li>
<li>You click &quot;Allow&quot;</li>
<li>Google gives PerfoAds a special access token</li>
<li>Token is valid for 60 days (Google auto-refreshes it)</li>
</ol>
<p><strong>Self-Healing</strong>: System automatically refreshes tokens before expiration. You usually don&#39;t need to do anything.</p>
<p><strong>When It Breaks</strong>: Google account password changed, permissions revoked, or token expires unexpectedly.</p>
<hr>
<h2>Problem 1: OAuth Shows &quot;Disconnected&quot;</h2>
<h3>Symptoms</h3>
<ul>
<li>OAuth status: ❌ Disconnected</li>
<li>All syncs failing with &quot;Invalid credentials&quot; or &quot;OAuth error&quot;</li>
<li>Red X icon next to Google Ads Connections</li>
</ul>
<hr>
<h3>Cause 1: Token Expired</h3>
<p><strong>Diagnostic</strong>:</p>
<pre><code>OAuth Status: Disconnected
Token Valid: Expired
Error: &quot;Refresh token expired or revoked&quot;
</code></pre>
<p><strong>Why It Happens</strong>:</p>
<ul>
<li>Token reached 60-day limit without refresh</li>
<li>Auto-refresh failed due to Google account change</li>
<li>User revoked app permissions manually</li>
</ul>
<p><strong>Solution</strong>:</p>
<p><strong>Step 1: Reconnect OAuth</strong></p>
<ol>
<li>Go to Settings → Google Ads Connections</li>
<li>Click <strong>Reconnect OAuth</strong> button</li>
<li>You&#39;ll redirect to Google sign-in</li>
</ol>
<p><strong>Step 2: Choose Correct Google Account</strong></p>
<ul>
<li>Use the Google account that has access to your Google Ads accounts</li>
<li>If you manage multiple Google accounts, choose the right one</li>
<li>Not sure? Check Google Ads → Settings → Account Access</li>
</ul>
<p><strong>Step 3: Grant Permissions</strong></p>
<ul>
<li>Google shows: &quot;PerfoAds wants to access your Google Ads&quot;</li>
<li>Review permissions (read-only access to campaigns, keywords, metrics)</li>
<li>Click <strong>Allow</strong></li>
</ul>
<p><strong>Step 4: Verify Connection</strong></p>
<ol>
<li>Redirects back to PerfoAds</li>
<li>OAuth Status should now show: ✅ Connected</li>
<li>Click <strong>Refresh Discovery</strong> to find accounts</li>
</ol>
<p><strong>Step 5: Test</strong></p>
<ol>
<li>Go to Client List</li>
<li>Pick a client</li>
<li>Actions → Sync Now</li>
<li>Sync should complete successfully</li>
</ol>
<p><strong>Expected Timeline</strong>: 2-3 minutes total</p>
<hr>
<h3>Cause 2: Google Account Password Changed</h3>
<p><strong>Diagnostic</strong>:</p>
<pre><code>OAuth Status: Disconnected
Recent Event: Changed Google password last week
</code></pre>
<p><strong>Why It Happens</strong>: Google security policy revokes OAuth tokens when password changes</p>
<p><strong>Solution</strong>: Same as Cause 1 (Reconnect OAuth)</p>
<p><strong>Prevention</strong>: After changing Google password, immediately reconnect OAuth in PerfoAds</p>
<hr>
<h3>Cause 3: App Permissions Revoked</h3>
<p><strong>Diagnostic</strong>:</p>
<pre><code>OAuth Status: Disconnected
User manually removed PerfoAds from Google account permissions
</code></pre>
<p><strong>Where This Happens</strong>: Google Account → Security → Third-party apps → PerfoAds → Remove Access</p>
<p><strong>Solution</strong>: Reconnect OAuth (same steps as Cause 1)</p>
<p><strong>Prevention</strong>: Don&#39;t revoke app access in Google unless you no longer use PerfoAds</p>
<hr>
<h2>Problem 2: OAuth Connected But Accounts Missing</h2>
<h3>Symptoms</h3>
<ul>
<li>OAuth status: ✅ Connected</li>
<li>Syncs work for some clients</li>
<li>Other Google Ads accounts not showing in dropdown when adding client</li>
</ul>
<hr>
<h3>Cause 1: Stale Discovery Cache</h3>
<p><strong>Explanation</strong>: Discovery cache lists available accounts. Cached for 24 hours.</p>
<p><strong>Scenario</strong>:</p>
<pre><code>Yesterday: Had access to 5 Google Ads accounts
Today: Gained access to 6th account
Dropdown: Still only shows 5 accounts
</code></pre>
<p><strong>Solution</strong>:</p>
<ol>
<li>Go to Settings → Google Ads Connections</li>
<li>Click <strong>Refresh Discovery</strong> button</li>
<li>Wait 5-10 seconds</li>
<li>Discovery runs and finds all accounts you have access to</li>
<li>Go to Add Client dropdown</li>
<li>New account should now appear</li>
</ol>
<p><strong>When to Refresh Discovery</strong>:</p>
<ul>
<li>After gaining access to new Google Ads account</li>
<li>After OAuth reconnection</li>
<li>If account list looks outdated</li>
</ul>
<hr>
<h3>Cause 2: Missing Account Access</h3>
<p><strong>Diagnostic</strong>:</p>
<pre><code>Account expected but not showing after Discovery refresh
</code></pre>
<p><strong>Check Google Ads Access</strong>:</p>
<ol>
<li>Log into Google Ads: <a href="https://ads.google.com">https://ads.google.com</a></li>
<li>Click account switcher (top left)</li>
<li>Can you see the missing account?</li>
</ol>
<p><strong>If Yes (you see it)</strong>:</p>
<ul>
<li>Refresh Discovery in PerfoAds</li>
<li>Should appear now</li>
</ul>
<p><strong>If No (you don&#39;t see it)</strong>:</p>
<ul>
<li>You don&#39;t have access</li>
<li>Contact account owner to grant access</li>
<li>Account owner: Google Ads → Settings → Account Access → Add User</li>
</ul>
<p><strong>Access Level Required</strong>: Standard or Admin (read-only insufficient for sync)</p>
<hr>
<h3>Cause 3: Wrong Google Account Used for OAuth</h3>
<p><strong>Scenario</strong>:</p>
<pre><code>Google Ads Account A: Managed by google-user-1@company.com
Google Ads Account B: Managed by google-user-2@company.com

OAuth Connected With: google-user-1@company.com

Result:
- Account A visible ✅
- Account B missing ❌
</code></pre>
<p><strong>Solution</strong>:</p>
<p><strong>Option 1: Reconnect OAuth with Correct Account</strong></p>
<ol>
<li>Disconnect OAuth</li>
<li>Reconnect</li>
<li>Choose <a href="mailto:google-user-2@company.com">google-user-2@company.com</a></li>
<li>Now Account B visible</li>
</ol>
<p><strong>Option 2: Grant Access to Other Google Account</strong> (recommended)</p>
<ol>
<li>Log into Google Ads Account B</li>
<li>Settings → Account Access</li>
<li>Add <a href="mailto:google-user-1@company.com">google-user-1@company.com</a> as Standard or Admin</li>
<li>Now both accounts visible with one OAuth connection</li>
</ol>
<hr>
<h2>Problem 3: Permission Denied Errors</h2>
<h3>Symptoms</h3>
<ul>
<li>OAuth: ✅ Connected</li>
<li>Sync fails with &quot;Permission denied&quot; or &quot;Insufficient permissions&quot;</li>
<li>Account appears in dropdown but sync doesn&#39;t work</li>
</ul>
<hr>
<h3>Cause: Read-Only Access</h3>
<p><strong>Google Ads Access Levels</strong>:</p>
<ul>
<li><strong>Admin</strong>: Full access</li>
<li><strong>Standard</strong>: Can view and edit (what PerfoAds needs)</li>
<li><strong>Read-only</strong>: Can only view (insufficient)</li>
</ul>
<p><strong>Diagnostic</strong>:</p>
<pre><code>Sync Error: &quot;Permission denied for customer XXX-XXX-XXXX&quot;
Access Level: Read-only
</code></pre>
<p><strong>Solution</strong>:</p>
<ol>
<li>Contact Google Ads account owner</li>
<li>Request upgrade from Read-only to Standard access</li>
<li>Account owner:<ul>
<li>Google Ads → Settings → Account Access</li>
<li>Find your email</li>
<li>Change access level to Standard</li>
<li>Save</li>
</ul>
</li>
<li>In PerfoAds:<ul>
<li>Wait 5 minutes for Google to propagate change</li>
<li>Retry sync</li>
<li>Should work now</li>
</ul>
</li>
</ol>
<p><strong>Why Standard Required</strong>: PerfoAds needs Standard to access full performance data and metrics</p>
<hr>
<h2>Problem 4: Token Expiring Soon Warning</h2>
<h3>Symptoms</h3>
<ul>
<li>OAuth status: ⚠️ Connected (warning)</li>
<li>Message: &quot;Token expires in X days&quot;</li>
<li>X &lt; 7 days</li>
</ul>
<hr>
<h3>This is Normal (Self-Healing)</h3>
<p><strong>What It Means</strong>: System will auto-refresh token before expiration</p>
<p><strong>Your Action Required</strong>: None (usually)</p>
<p><strong>How Self-Healing Works</strong>:</p>
<pre><code>Day 0: Token valid for 60 days
Day 53: System detects 7 days remaining
Day 54: System auto-refreshes token
Day 54: New token valid for 60 more days
</code></pre>
<hr>
<h3>When to Act</h3>
<p><strong>If Warning Persists &gt;3 Days</strong>:</p>
<pre><code>Day 1: Warning &quot;7 days remaining&quot;
Day 4: Still shows &quot;4 days remaining&quot; (auto-refresh hasn&#39;t happened)
</code></pre>
<p><strong>Manual Refresh</strong>:</p>
<ol>
<li>Settings → Google Ads Connections</li>
<li>Click <strong>Reconnect OAuth</strong> (pre-emptive refresh)</li>
<li>Complete OAuth flow</li>
<li>Token renewed for 60 days</li>
</ol>
<p><strong>Why Manual</strong>: Auto-refresh occasionally fails. Better safe than sorry.</p>
<hr>
<h2>Problem 5: Intentionally Disconnecting OAuth</h2>
<h3>When to Disconnect</h3>
<p><strong>Valid Use Cases</strong>:</p>
<ul>
<li>Switching from personal to agency Google account</li>
<li>Client transferred Google Ads account access to different user</li>
<li>Moving from direct account access to MCC access (or vice versa)</li>
<li>Troubleshooting persistent OAuth issues with fresh reconnection</li>
<li>Security: Temporarily revoking access</li>
<li>Testing different Google account configurations</li>
</ul>
<h3>How to Disconnect Safely</h3>
<p><strong>Step 1: Understand What Happens</strong></p>
<ul>
<li>OAuth connection removed immediately</li>
<li>✅ All client data preserved (campaigns, metrics, history, business profiles)</li>
<li>✅ All AI alerts and chat history preserved</li>
<li>❌ All syncs will fail until reconnected</li>
<li>❌ Cannot add new clients until reconnected</li>
</ul>
<p><strong>Step 2: Go to Settings</strong></p>
<ol>
<li>Navigate to Settings → Google Ads Connections</li>
<li>You&#39;ll see current OAuth status (should be ✅ Connected)</li>
</ol>
<p><strong>Step 3: Disconnect</strong></p>
<ol>
<li>Click <strong>Disconnect</strong> button</li>
<li>Confirmation dialog appears</li>
<li>Read warning: &quot;This will stop all syncs until reconnected&quot;</li>
<li>Confirm disconnection</li>
<li>OAuth status changes to ❌ Disconnected</li>
</ol>
<p>[Screenshot: Disconnect confirmation dialog with warning message]
<em>Disconnecting requires confirmation - system warns about sync stoppage</em></p>
<p><strong>Step 4: All Clients Show OAuth Required</strong></p>
<ul>
<li>Client list shows &quot;OAuth connection required&quot; for all clients</li>
<li>Sync buttons disabled</li>
<li>Existing data still visible (read-only until reconnected)</li>
</ul>
<h3>Reconnecting After Disconnection</h3>
<p><strong>Choose Your Reconnection Path</strong>:</p>
<p><strong>Path A: Same Google Account</strong></p>
<ol>
<li>Click <strong>Reconnect OAuth</strong> button</li>
<li>Log in with same Google account as before</li>
<li>Grant permissions</li>
<li>System reconnects</li>
<li>All clients work immediately (no reconfiguration)</li>
</ol>
<p><strong>Path B: Different Google Account</strong></p>
<ol>
<li>Click <strong>Reconnect OAuth</strong> button</li>
<li>Log in with NEW Google account</li>
<li>Grant permissions</li>
<li>Click <strong>Refresh Discovery</strong> to find accounts</li>
<li>Verify all clients&#39; Google Ads accounts are accessible via new Google account</li>
<li>Run test sync on one client</li>
<li>All clients should work (if new account has access to those Google Ads accounts)</li>
</ol>
<p><strong>Important Verification Steps</strong>:</p>
<ol>
<li>After reconnecting, go to Client List</li>
<li>Pick 1-2 clients</li>
<li>Run manual sync on each</li>
<li>Verify syncs complete successfully</li>
<li>Only then enable auto-sync again</li>
</ol>
<h3>What If New Google Account Doesn&#39;t Have Access?</h3>
<p><strong>Scenario</strong>:</p>
<pre><code>Old OAuth Account: user1@company.com (had access to Accounts A, B, C)
New OAuth Account: user2@company.com (only has access to Accounts A, B)

Result After Reconnection:
- Client A: ✅ Works
- Client B: ✅ Works
- Client C: ❌ Fails (&quot;Permission denied&quot;)
</code></pre>
<p><strong>Solution for Client C</strong>:</p>
<ol>
<li>Contact Google Ads account owner for Account C</li>
<li>Request they add <a href="mailto:user2@company.com">user2@company.com</a> as Standard/Admin user</li>
<li>Wait 5 minutes for Google to propagate</li>
<li>Refresh Discovery in PerfoAds</li>
<li>Retry sync on Client C</li>
<li>Should work now</li>
</ol>
<h3>Disconnect Best Practices</h3>
<p><strong>DO Disconnect When</strong>:</p>
<ul>
<li>You have a clear reason (switching accounts, testing, security)</li>
<li>You understand syncs will stop until reconnection</li>
<li>You&#39;re prepared to reconnect immediately or know when you&#39;ll reconnect</li>
</ul>
<p><strong>DON&#39;T Disconnect When</strong>:</p>
<ul>
<li>Troubleshooting generic sync issues (try other fixes first)</li>
<li>Just &quot;trying things&quot; without a plan</li>
<li>You&#39;re unsure which Google account to reconnect with</li>
<li>It&#39;s during peak business hours (clients expect fresh data)</li>
</ul>
<p><strong>Warning</strong>: Only disconnect if you have a specific reason. Routine troubleshooting rarely requires full disconnection. Try these first:</p>
<ul>
<li>Refresh Discovery (for missing accounts)</li>
<li>Reconnect OAuth without disconnecting (refreshes connection)</li>
<li>Check individual client sync logs</li>
<li>Verify Google Ads account access</li>
</ul>
<hr>
<h2>Problem 6: OAuth Works But Sync Still Fails</h2>
<h3>Symptoms</h3>
<ul>
<li>OAuth: ✅ Connected</li>
<li>Token: Valid</li>
<li>Discovery: Accounts found</li>
<li>Sync: Still failing with errors</li>
</ul>
<hr>
<h3>Possible Causes</h3>
<p><strong>Not an OAuth Issue</strong>:</p>
<ol>
<li>Customer ID incorrect → Fix: Update Customer ID in Client Settings</li>
<li>Google Ads account suspended → Fix: Resolve suspension with Google</li>
<li>Rate limiting → Fix: Wait and retry</li>
<li>Network issues → Fix: Check internet connection</li>
</ol>
<p><strong>See</strong>: <a href="05-troubleshooting-sync.html">Troubleshooting Sync Issues</a> for non-OAuth sync problems</p>
<hr>
<h2>Reconnecting OAuth: Best Practices</h2>
<h3>Step-by-Step Guide</h3>
<p><strong>Step 1: Prepare</strong></p>
<ul>
<li>Know which Google account has access to your Google Ads accounts</li>
<li>Have that Google account&#39;s password ready</li>
<li>Close other Google account sessions (avoid wrong account selection)</li>
</ul>
<p><strong>Step 2: Disconnect Old OAuth</strong> (optional but recommended)</p>
<ol>
<li>Settings → Google Ads Connections</li>
<li>Click <strong>Disconnect</strong> button</li>
<li>Confirm disconnection</li>
</ol>
<p><strong>Step 3: Reconnect OAuth</strong></p>
<ol>
<li>Click <strong>Connect Google Ads</strong> button</li>
<li>Select Google account (choose carefully!)</li>
<li>Google asks for permissions</li>
<li>Review permissions (should be read-only access)</li>
<li>Click <strong>Allow</strong></li>
</ol>
<p><strong>Step 4: Verify</strong></p>
<ol>
<li>Redirects to PerfoAds</li>
<li>Check OAuth status: ✅ Connected</li>
<li>Check token valid: &quot;60 days&quot; or similar</li>
</ol>
<p><strong>Step 5: Refresh Discovery</strong></p>
<ol>
<li>Click <strong>Refresh Discovery</strong></li>
<li>Wait for completion</li>
<li>Accounts list populates</li>
</ol>
<p><strong>Step 6: Test Sync</strong></p>
<ol>
<li>Go to Client List</li>
<li>Select a client</li>
<li>Actions → Sync Now</li>
<li>Verify sync completes successfully</li>
</ol>
<p><strong>Total Time</strong>: 3-5 minutes</p>
<p>[Screenshot: OAuth reconnection flow from start to finish]
<em>Follow these steps for successful OAuth reconnection</em></p>
<hr>
<h2>Understanding OAuth Scopes</h2>
<h3>What Permissions Does PerfoAds Need?</h3>
<p><strong>Required Scopes</strong> (Google&#39;s terminology):</p>
<ol>
<li><strong><code>https://www.googleapis.com/auth/adwords</code></strong><ul>
<li>Read access to Google Ads data</li>
<li>Required for syncing campaigns, keywords, performance</li>
</ul>
</li>
</ol>
<p><strong>What PerfoAds Does NOT Have</strong>:</p>
<ul>
<li>Cannot modify campaigns</li>
<li>Cannot change bids</li>
<li>Cannot pause/enable ads</li>
<li>Cannot create campaigns</li>
<li>Cannot access billing info</li>
<li>Cannot access other Google services (Gmail, Drive, etc.)</li>
</ul>
<p><strong>Read-Only Access</strong>: PerfoAds can only read data, never modify your Google Ads account</p>
<hr>
<h2>Preventing OAuth Issues</h2>
<h3>Best Practices</h3>
<p><strong>1. Don&#39;t Change Google Password Without Updating OAuth</strong></p>
<pre><code>Bad: Change Google password → Forget to reconnect OAuth → OAuth breaks 3 days later
Good: Change Google password → Immediately reconnect OAuth in PerfoAds
</code></pre>
<p><strong>2. Monitor OAuth Health Monthly</strong></p>
<pre><code>Monthly Checklist:
- Settings → Google Ads Connections
- Check OAuth status: Should be ✅ Connected
- Check token expiration: Should show 30+ days
- If &lt;30 days: System should auto-refresh soon, monitor
</code></pre>
<p><strong>3. Don&#39;t Revoke App Access in Google</strong></p>
<pre><code>Google Account → Security → Third-party apps → PerfoAds
Do Not Click: &quot;Remove Access&quot; (unless you&#39;re done using PerfoAds)
</code></pre>
<p><strong>4. Use Dedicated Google Account for Automation</strong></p>
<pre><code>Personal Account: john.personal@gmail.com
Business Account: john@agency.com (use this for OAuth)

Why: Business account less likely to change, more stable
</code></pre>
<hr>
<h2>When OAuth Auto-Heals</h2>
<h3>Enhanced Self-Healing System</h3>
<p>PerfoAds includes an advanced OAuth self-healing system that automatically handles most token issues without user intervention.</p>
<h3>Self-Healing Scenarios</h3>
<p><strong>Auto-Fixed</strong> (no action required):</p>
<ol>
<li><p><strong>Token Approaching Expiration</strong></p>
<ul>
<li>System detects tokens expiring within 7 days</li>
<li>Automatically refreshes token in background</li>
<li>Retry logic: Up to 3 attempts with exponential backoff</li>
<li>Timeline: Refreshes 7 days before expiration</li>
</ul>
</li>
<li><p><strong>Temporary Google API Issues</strong></p>
<ul>
<li>Retries automatically on transient API failures</li>
<li>Exponential backoff: 1s → 2s → 4s between retries</li>
<li>Max retries: 3 attempts</li>
<li>Fallback: If all retries fail, alerts user to reconnect</li>
</ul>
</li>
<li><p><strong>Network Blips During Token Refresh</strong></p>
<ul>
<li>Automatic retry with exponential backoff</li>
<li>Persists through temporary connectivity issues</li>
<li>Logs all retry attempts for debugging</li>
</ul>
</li>
<li><p><strong>Token Expiry Check Enhancement</strong></p>
<ul>
<li>System now validates token expiry in the <strong>else block</strong> of self-healing logic</li>
<li>If token is expired but connection appears valid, forces immediate refresh</li>
<li>Prevents false &quot;connected&quot; status with expired tokens</li>
<li>Gracefully handles edge cases where token expires between checks</li>
</ul>
</li>
</ol>
<h3>Enhanced Token Validation</h3>
<p><strong>New Validation Logic</strong>:</p>
<pre><code>Check 1: Is OAuth connected?
  → Yes: Proceed to Check 2
  → No: User must reconnect

Check 2: Is token valid and not expired?
  → Yes: Proceed with sync
  → No: Attempt automatic refresh
    → Refresh succeeds: Continue normally
    → Refresh fails: Alert user to reconnect
</code></pre>
<p><strong>Why This Matters</strong>: Previous system could miss expired tokens in edge cases. Enhanced logic catches expiry at multiple checkpoints.</p>
<h3>Your Intervention Required</h3>
<p><strong>You Must Reconnect When</strong>:</p>
<ul>
<li>Token already expired and self-healing failed (status shows ❌ Disconnected)</li>
<li>Google password changed (Google security policy revokes tokens)</li>
<li>App permissions revoked manually in Google Account settings</li>
<li>Wrong Google account used (must reconnect with correct account)</li>
<li>Self-healing retry limit exhausted (3 attempts failed)</li>
</ul>
<h3>How to Tell if Action Needed</h3>
<p><strong>Status Indicator Guide</strong>:</p>
<p><strong>✅ Connected</strong> - No action required</p>
<ul>
<li>Token valid</li>
<li>Auto-refresh working normally</li>
<li>System healthy</li>
</ul>
<p><strong>⚠️ Warning</strong> - Monitor but don&#39;t act yet</p>
<ul>
<li>Token expiring within 7 days</li>
<li>System will auto-refresh soon</li>
<li>If warning persists &gt;3 days, manually refresh as precaution</li>
</ul>
<p><strong>❌ Disconnected</strong> - Action Required</p>
<ul>
<li>Token expired or invalid</li>
<li>Self-healing failed</li>
<li>Must manually reconnect OAuth</li>
<li>All syncs blocked until fixed</li>
</ul>
<h3>Self-Healing Logs</h3>
<p><strong>Where to Check</strong>:</p>
<ul>
<li>Settings → Google Ads Connections → &quot;View Refresh Log&quot;</li>
<li>Shows all automatic refresh attempts</li>
<li>Timestamps and success/failure status</li>
<li>Error messages if refresh failed</li>
</ul>
<p><strong>Example Log Entry</strong>:</p>
<pre><code>[2025-10-14 03:42:15] Token refresh attempt 1/3
[2025-10-14 03:42:16] Success - Token valid for 60 days
</code></pre>
<p>or</p>
<pre><code>[2025-10-14 03:42:15] Token refresh attempt 1/3 - Failed (network timeout)
[2025-10-14 03:42:17] Token refresh attempt 2/3 - Failed (API rate limit)
[2025-10-14 03:42:21] Token refresh attempt 3/3 - Failed (invalid grant)
[2025-10-14 03:42:21] Self-healing exhausted - User reconnection required
</code></pre>
<hr>
<h2>Error Messages Decoded</h2>
<h3>&quot;Invalid grant&quot;</h3>
<p><strong>Meaning</strong>: Refresh token no longer valid</p>
<p><strong>Fix</strong>: Reconnect OAuth</p>
<p><strong>Common Cause</strong>: Google password changed or token expired</p>
<hr>
<h3>&quot;Access denied&quot;</h3>
<p><strong>Meaning</strong>: User declined OAuth permissions or insufficient access level</p>
<p><strong>Fix</strong>:</p>
<ul>
<li>Reconnect OAuth and click &quot;Allow&quot; this time</li>
<li>OR request Standard access level for account</li>
</ul>
<hr>
<h3>&quot;Redirect URI mismatch&quot;</h3>
<p><strong>Meaning</strong>: OAuth callback URL doesn&#39;t match registered URL (rare)</p>
<p><strong>Fix</strong>: Contact support (this is a configuration issue on PerfoAds&#39;s side)</p>
<hr>
<h3>&quot;Invalid client&quot;</h3>
<p><strong>Meaning</strong>: PerfoAds&#39;s Google OAuth credentials invalid (extremely rare)</p>
<p><strong>Fix</strong>: Contact support immediately (system-wide OAuth issue)</p>
<hr>
<h2>Advanced Troubleshooting</h2>
<h3>Check Google Account Permissions</h3>
<p><strong>View Apps with Access</strong>:</p>
<ol>
<li>Go to: <a href="https://myaccount.google.com/permissions">https://myaccount.google.com/permissions</a></li>
<li>Find &quot;PerfoAds&quot; in list</li>
<li>Check:<ul>
<li>Access granted? (should be)</li>
<li>Permissions: &quot;See your Google Ads data&quot;</li>
<li>Last accessed: Should be recent</li>
</ul>
</li>
</ol>
<p><strong>If Not Listed</strong>: OAuth not connected, reconnect</p>
<p><strong>If Listed But Sync Failing</strong>: Remove access, then reconnect OAuth fresh</p>
<hr>
<h3>Browser Console Errors</h3>
<p><strong>For Advanced Users</strong>:</p>
<ol>
<li>Open browser console: F12</li>
<li>Go to Console tab</li>
<li>Click &quot;Connect Google Ads&quot;</li>
<li>Watch for errors during OAuth flow</li>
<li>Common errors:<ul>
<li>Popup blocked: Allow popups for this site</li>
<li>Cookies disabled: Enable cookies</li>
<li>CORS error: Contact support</li>
</ul>
</li>
</ol>
<hr>
<h2>Common Questions</h2>
<p><strong>Q: How often do I need to reconnect OAuth?</strong>
A: Almost never. System auto-refreshes tokens. Only reconnect if status shows ❌ Disconnected.</p>
<p><strong>Q: Can I use multiple Google accounts for OAuth?</strong>
A: Only one OAuth connection at a time. Choose account with access to most Google Ads accounts.</p>
<p><strong>Q: What if I don&#39;t see &quot;Allow&quot; button during OAuth?</strong>
A: Google may show &quot;Cancel&quot; only if app already has access. Check Settings → Google Ads Connections for status.</p>
<p><strong>Q: Does reconnecting OAuth affect existing clients?</strong>
A: No. Clients remain, data preserved. Only connection refreshes.</p>
<p><strong>Q: Can I revoke OAuth access temporarily?</strong>
A: Yes, but all syncs will fail until reconnected. Not recommended unless you&#39;re stopping use of PerfoAds.</p>
<p><strong>Q: What data does PerfoAds store?</strong>
A: Only the OAuth token (securely encrypted) and your Google Ads data after sync. PerfoAds never stores your Google password.</p>
<hr>
<h2>When to Contact Support</h2>
<p><strong>Contact Support If</strong>:</p>
<ol>
<li><strong>Reconnected OAuth 3+ times</strong> but still shows Disconnected</li>
<li><strong>&quot;Invalid client&quot; error</strong> (system-wide OAuth issue)</li>
<li><strong>Accounts not appearing</strong> after multiple Discovery refreshes and verified access</li>
<li><strong>OAuth flow broken</strong> (redirects fail, errors during authorization)</li>
<li><strong>Token won&#39;t refresh</strong> despite being &lt;7 days from expiration</li>
</ol>
<p><strong>Provide to Support</strong>:</p>
<ul>
<li>Screenshot of OAuth status</li>
<li>Error message (exact text)</li>
<li>Steps you&#39;ve tried</li>
<li>Google account email (used for OAuth)</li>
</ul>
<hr>
<h2>Next Steps</h2>
<p>Fix Google Ads connection issues with these guides:</p>
<ul>
<li><strong><a href="05-troubleshooting-sync.html">Troubleshooting Sync Issues</a></strong> - Fix sync problems after OAuth working</li>
<li><strong><a href="../phase-1-essential/05-smart-sync-explained.html">Smart Sync Explained</a></strong> - How sync works with OAuth</li>
<li><strong><a href="01-global-settings.html">Global Settings</a></strong> - Configure OAuth and connections</li>
<li><strong><a href="../phase-1-essential/03-adding-first-client.html">Adding First Client</a></strong> - OAuth setup during client onboarding</li>
</ul>
<hr>
<p><strong>Monitor OAuth monthly</strong> to catch issues before they break</p>
<p><strong>Reconnect immediately</strong> after changing Google password</p>
<p><strong>Use stable Google account</strong> for business automation</p>
<p><strong>Last Updated</strong>: October 4, 2025</p>
</div>
    </main>

    <!-- Footer - Landing Page Style -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <div class="footer-logo">
                    <img src="/logo.png" alt="PerfoAds" style="width: 32px; height: 32px;">
                    <h4 style="margin: 0; display: inline-block; margin-left: 12px; vertical-align: middle;">PerfoAds</h4>
                </div>
                <p>AI that doesn't just spot trends. It understands your clients' businesses and tells you exactly what matters.</p>
                <a href="https://www.perfoads.com/#pricing" class="footer-cta">Transform my Business</a>
                <div class="footer-social">
                    <a href="https://x.com/">Twitter/X</a>
                </div>
            </div>
            <div class="footer-section">
                <h5>Sections</h5>
                <div class="footer-links">
                    <a href="https://www.perfoads.com/#features">Features</a>
                    <a href="https://www.perfoads.com/#benefits">Benefits</a>
                    <a href="https://www.perfoads.com/#testimonials">Testimonials</a>
                    <a href="https://www.perfoads.com/#pricing">Pricing</a>
                    <a href="https://www.perfoads.com/#faq">FAQ</a>
                </div>
            </div>
            <div class="footer-section">
                <h5>Pages</h5>
                <div class="footer-links">
                    <a href="/">Documentation</a>
                    <a href="https://www.perfoads.com/privacy">Privacy Policy</a>
                    <a href="https://www.perfoads.com/tos">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <div class="footer-bottom">
        All Rights Reserved © 2025 PerfoAds
    </div>

</body>
</html>